"use strict";var Ue=Object.create;var oe=Object.defineProperty;var ze=Object.getOwnPropertyDescriptor;var De=Object.getOwnPropertyNames;var Ee=Object.getPrototypeOf,Fe=Object.prototype.hasOwnProperty;var Ze=(t,o,e,s)=>{if(o&&typeof o=="object"||typeof o=="function")for(let a of De(o))!Fe.call(t,a)&&a!==e&&oe(t,a,{get:()=>o[a],enumerable:!(s=ze(o,a))||s.enumerable});return t};var v=(t,o,e)=>(e=t!=null?Ue(Ee(t)):{},Ze(o||!t||!t.__esModule?oe(e,"default",{value:t,enumerable:!0}):e,t));Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("vue"),He=(t,o)=>{for(const e of Object.keys(o))t.on(e,o[e])},re=t=>{for(const o of Object.keys(t)){const e=t[o];e&&A(e.cancel)&&e.cancel()}},We=t=>!t||typeof t.charAt!="function"?t:t.charAt(0).toUpperCase()+t.slice(1),A=t=>typeof t=="function",h=(t,o,e)=>{for(const s in e){const a="set"+We(s);t[a]?n.watch(()=>e[s],(r,i)=>{t[a](r,i)}):o[a]&&n.watch(()=>e[s],r=>{o[a](r)})}},L=(t,o,e={})=>{const s={...e};for(const a in t){const r=o[a],i=t[a];r&&(r&&r.custom===!0||i!==void 0&&(s[a]=i))}return s},C=t=>{const o={};for(const e in t)if(e.startsWith("on")&&!e.startsWith("onUpdate")&&e!=="onReady"){const s=e.slice(2).toLocaleLowerCase();o[s]=t[e]}return o},qe=async t=>{const o=await Promise.all([import("leaflet/dist/images/marker-icon-2x.png"),import("leaflet/dist/images/marker-icon.png"),import("leaflet/dist/images/marker-shadow.png")]);delete t.Default.prototype._getIconUrl,t.Default.mergeOptions({iconRetinaUrl:o[0].default,iconUrl:o[1].default,shadowUrl:o[2].default})},q=t=>{const o=n.ref((...s)=>console.warn(`Method ${t} has been invoked without being replaced`)),e=(...s)=>o.value(...s);return e.wrapped=o,n.provide(t,e),e},J=(t,o)=>t.wrapped.value=o,b=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||globalThis,y=t=>{const o=n.inject(t);if(!o)throw new Error(`Attempt to inject ${t} before it was provided.`);return o},g=Symbol(),T=Symbol(),K=Symbol(),E=Symbol(),ae=Symbol(),le=Symbol(),ie=Symbol(),ue=Symbol(),ce=Symbol(),de=Symbol(),pe=Symbol(),me=Symbol(),F={options:{type:Object,default:()=>({}),custom:!0}},Z=t=>({options:t.options,methods:{}}),$={...F,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},H=(t,o,e)=>{const s=y(T),a=y(K),{options:r,methods:i}=Z(t),l=L(t,$,r),u=()=>s({leafletObject:o.value}),c=()=>a({leafletObject:o.value}),d={...i,setAttribution(m){c(),o.value.options.attribution=m,t.visible&&u()},setName(){c(),t.visible&&u()},setLayerType(){c(),t.visible&&u()},setVisible(m){o.value&&(m?u():c())},bindPopup(m){if(!o.value||!A(o.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}o.value.bindPopup(m)},bindTooltip(m){if(!o.value||!A(o.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}o.value.bindTooltip(m)},unbindTooltip(){o.value&&(A(o.value.closeTooltip)&&o.value.closeTooltip(),A(o.value.unbindTooltip)&&o.value.unbindTooltip())},unbindPopup(){o.value&&(A(o.value.closePopup)&&o.value.closePopup(),A(o.value.unbindPopup)&&o.value.unbindPopup())},updateVisibleProp(m){e.emit("update:visible",m)}};return n.provide(ce,d.bindPopup),n.provide(de,d.bindTooltip),n.provide(pe,d.unbindPopup),n.provide(me,d.unbindTooltip),n.onUnmounted(()=>{d.unbindPopup(),d.unbindTooltip(),c()}),{options:l,methods:d}},B=(t,o)=>{if(t&&o.default)return n.h("div",{style:{display:"none"}},o.default())},ye={...$,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},Je=(t,o,e)=>{const{options:s,methods:a}=H(t,o,e);return{options:L(t,ye,s),methods:a}},Q={...ye,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},ve=(t,o,e)=>{const{options:s,methods:a}=Je(t,o,e),r=L(t,Q,s),i=y(K),l={...a,setStroke(u){o.value.setStyle({stroke:u})},setColor(u){o.value.setStyle({color:u})},setWeight(u){o.value.setStyle({weight:u})},setOpacity(u){o.value.setStyle({opacity:u})},setLineCap(u){o.value.setStyle({lineCap:u})},setLineJoin(u){o.value.setStyle({lineJoin:u})},setDashArray(u){o.value.setStyle({dashArray:u})},setDashOffset(u){o.value.setStyle({dashOffset:u})},setFill(u){o.value.setStyle({fill:u})},setFillColor(u){o.value.setStyle({fillColor:u})},setFillOpacity(u){o.value.setStyle({fillOpacity:u})},setFillRule(u){o.value.setStyle({fillRule:u})},setClassName(u){o.value.setStyle({className:u})}};return n.onBeforeUnmount(()=>{i({leafletObject:o.value})}),{options:r,methods:l}},X={...Q,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}},fe=(t,o,e)=>{const{options:s,methods:a}=ve(t,o,e),r=L(t,X,s),i={...a,setRadius(l){o.value.setRadius(l)},setLatLng(l){o.value.setLatLng(l)}};return{options:r,methods:i}},be={...X,radius:{type:Number}},xe=(t,o,e)=>{const{options:s,methods:a}=fe(t,o,e),r=L(t,be,s),i={...a};return{options:r,methods:i}},Ke=n.defineComponent({name:"LCircle",props:be,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{options:i,methods:l}=xe(t,e,o);return n.onMounted(async()=>{const{circle:u}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(u(t.latLng,i));const c=C(o.attrs);e.value.on(c),h(l,e.value,t),r({...t,...l,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),Re=n.defineComponent({name:"LCircleMarker",props:X,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{options:i,methods:l}=fe(t,e,o);return n.onMounted(async()=>{const{circleMarker:u}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(u(t.latLng,i));const c=C(o.attrs);e.value.on(c),h(l,e.value,t),r({...t,...l,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),U={...F,position:{type:String}},W=(t,o)=>{const{options:e,methods:s}=Z(t),a=L(t,U,e),r={...s,setPosition(i){o.value&&o.value.setPosition(i)}};return n.onUnmounted(()=>{o.value&&o.value.remove()}),{options:a,methods:r}},Qe=t=>t.default?n.h("div",{ref:"root"},t.default()):null,Xe=n.defineComponent({name:"LControl",props:{...U,disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},setup(t,o){const e=n.ref(),s=n.ref(),a=n.inject(g),r=y(E),{options:i,methods:l}=W(t,e);return n.onMounted(async()=>{const{Control:u,DomEvent:c}=a?b.L:await import("leaflet/dist/leaflet-src.esm"),d=u.extend({onAdd(){return s.value}});e.value=n.markRaw(new d(i)),h(l,e.value,t),r({leafletObject:e.value}),t.disableClickPropagation&&s.value&&c.disableClickPropagation(s.value),t.disableScrollPropagation&&s.value&&c.disableScrollPropagation(s.value),n.nextTick(()=>o.emit("ready",e.value))}),{root:s,leafletObject:e}},render(){return Qe(this.$slots)}}),Le={...U,prefix:{type:String}},Ye=(t,o)=>{const{options:e,methods:s}=W(t,o),a=L(t,Le,e),r={...s,setPrefix(i){o.value.setPrefix(i)}};return{options:a,methods:r}},Ve=n.defineComponent({name:"LControlAttribution",props:Le,setup(t,o){const e=n.ref(),s=n.inject(g),a=y(E),{options:r,methods:i}=Ye(t,e);return n.onMounted(async()=>{const{control:l}=s?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(l.attribution(r)),h(i,e.value,t),a({leafletObject:e.value}),n.nextTick(()=>o.emit("ready",e.value))}),{leafletObject:e}},render(){return null}}),he={...U,collapsed:{type:Boolean,default:void 0},autoZIndex:{type:Boolean,default:void 0},hideSingleBase:{type:Boolean,default:void 0},sortLayers:{type:Boolean,default:void 0},sortFunction:{type:Function}},et=(t,o)=>{const{options:e}=W(t,o);return{options:L(t,he,e),methods:{addLayer(r){r.layerType==="base"?o.value.addBaseLayer(r.leafletObject,r.name):r.layerType==="overlay"&&o.value.addOverlay(r.leafletObject,r.name)},removeLayer(r){o.value.removeLayer(r.leafletObject)}}}},tt=n.defineComponent({name:"LControlLayers",props:he,setup(t,o){const e=n.ref(),s=n.inject(g),a=y(ae),{options:r,methods:i}=et(t,e);return n.onMounted(async()=>{const{control:l}=s?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(l.layers(void 0,void 0,r)),h(i,e.value,t),a({...t,...i,leafletObject:e.value}),n.nextTick(()=>o.emit("ready",e.value))}),{leafletObject:e}},render(){return null}}),ge={...U,maxWidth:{type:Number},metric:{type:Boolean,default:void 0},imperial:{type:Boolean,default:void 0},updateWhenIdle:{type:Boolean,default:void 0}},ot=(t,o)=>{const{options:e,methods:s}=W(t,o);return{options:L(t,ge,e),methods:s}},nt=n.defineComponent({name:"LControlScale",props:ge,setup(t,o){const e=n.ref(),s=n.inject(g),a=y(E),{options:r,methods:i}=ot(t,e);return n.onMounted(async()=>{const{control:l}=s?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(l.scale(r)),h(i,e.value,t),a({leafletObject:e.value}),n.nextTick(()=>o.emit("ready",e.value))}),{leafletObject:e}},render(){return null}}),Oe={...U,zoomInText:{type:String},zoomInTitle:{type:String},zoomOutText:{type:String},zoomOutTitle:{type:String}},st=(t,o)=>{const{options:e,methods:s}=W(t,o);return{options:L(t,Oe,e),methods:s}},rt=n.defineComponent({name:"LControlZoom",props:Oe,setup(t,o){const e=n.ref(),s=n.inject(g),a=y(E),{options:r,methods:i}=st(t,e);return n.onMounted(async()=>{const{control:l}=s?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(l.zoom(r)),h(i,e.value,t),a({leafletObject:e.value}),n.nextTick(()=>o.emit("ready",e.value))}),{leafletObject:e}},render(){return null}}),R={...$},Y=(t,o,e)=>{const{options:s,methods:a}=H(t,o,e),r=L(t,R,s),i={...a,addLayer(l){o.value.addLayer(l.leafletObject)},removeLayer(l){o.value.removeLayer(l.leafletObject)}};return n.provide(T,i.addLayer),n.provide(K,i.removeLayer),{options:r,methods:i}},je={...R},at=(t,o,e)=>{const{options:s,methods:a}=Y(t,o,e),r=L(t,je,s),i={...a};return{options:r,methods:i}},lt=n.defineComponent({props:je,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{methods:i,options:l}=at(t,e,o);return n.onMounted(async()=>{const{featureGroup:u}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(u(void 0,l));const c=C(o.attrs);e.value.on(c),h(i,e.value,t),r({...t,...i,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),Ce={...R,geojson:{type:[Object,Array],custom:!0},optionsStyle:{type:Function,custom:!0}},it=(t,o,e)=>{const{options:s,methods:a}=Y(t,o,e),r=L(t,Ce,s);Object.prototype.hasOwnProperty.call(t,"optionsStyle")&&(r.style=t.optionsStyle);const i={...a,setGeojson(l){o.value.clearLayers(),o.value.addData(l)},setOptionsStyle(l){o.value.setStyle(l)},getGeoJSONData(){return o.value.toGeoJSON()},getBounds(){return o.value.getBounds()}};return{options:r,methods:i}},ut=n.defineComponent({props:Ce,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{methods:i,options:l}=it(t,e,o);return n.onMounted(async()=>{const{geoJSON:u}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(u(t.geojson,l));const c=C(o.attrs);e.value.on(c),h(i,e.value,t),r({...t,...i,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),V={...$,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number}},Se=(t,o,e)=>{const{options:s,methods:a}=H(t,o,e),r=L(t,V,s),i={...a,setTileComponent(){var l;(l=o.value)==null||l.redraw()}};return n.onUnmounted(()=>{o.value.off()}),{options:r,methods:i}},ct=(t,o,e,s)=>t.extend({initialize(a){this.tileComponents={},this.on("tileunload",this._unloadTile),e.setOptions(this,a)},createTile(a){const r=this._tileCoordsToKey(a);this.tileComponents[r]=o.create("div");const i=n.h({setup:s,props:["coords"]},{coords:a});return n.render(i,this.tileComponents[r]),this.tileComponents[r]},_unloadTile(a){const r=this._tileCoordsToKey(a.coords);this.tileComponents[r]&&(this.tileComponents[r].innerHTML="",this.tileComponents[r]=void 0)}}),dt=n.defineComponent({props:{...V,childRender:{type:Function,required:!0}},setup(t,o){const e=n.ref(),s=n.ref(null),a=n.ref(!1),r=n.inject(g),i=y(T),{options:l,methods:u}=Se(t,e,o);return n.onMounted(async()=>{const{GridLayer:c,DomUtil:d,Util:m}=r?b.L:await import("leaflet/dist/leaflet-src.esm"),P=ct(c,d,m,t.childRender);e.value=n.markRaw(new P(l));const f=C(o.attrs);e.value.on(f),h(u,e.value,t),i({...t,...u,leafletObject:e.value}),a.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{root:s,ready:a,leafletObject:e}},render(){return this.ready?n.h("div",{style:{display:"none"},ref:"root"}):null}}),ne={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}},pt=n.defineComponent({name:"LIcon",props:{...ne,...F},setup(t,o){const e=n.ref(),s=n.inject(g),a=y(le),r=y(ie),i=y(ue);let l,u,c,d,m;const P=(S,w,I)=>{const k=S&&S.innerHTML;if(!w){I&&m&&a()&&r(k);return}const _=C(o.attrs);m&&u(m,_);const{options:G}=Z(t),N=L(t,ne,G);k&&(N.html=k),m=N.html?c(N):d(N),l(m,_),i(m)},f=()=>{n.nextTick(()=>P(e.value,!0,!1))},M=()=>{n.nextTick(()=>P(e.value,!1,!0))},j={setIconUrl:f,setIconRetinaUrl:f,setIconSize:f,setIconAnchor:f,setPopupAnchor:f,setTooltipAnchor:f,setShadowUrl:f,setShadowRetinaUrl:f,setShadowAnchor:f,setBgPos:f,setClassName:f,setHtml:f};return n.onMounted(async()=>{const{DomEvent:S,divIcon:w,icon:I}=s?b.L:await import("leaflet/dist/leaflet-src.esm");l=S.on,u=S.off,c=w,d=I,h(j,{},t),new MutationObserver(M).observe(e.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),f()}),{root:e}},render(){const t=this.$slots.default?this.$slots.default():void 0;return n.h("div",{ref:"root"},t)}}),Te={...$,opacity:{type:Number},alt:{type:String},interactive:{type:Boolean,default:void 0},crossOrigin:{type:Boolean,default:void 0},errorOverlayUrl:{type:String},zIndex:{type:Number},className:{type:String},url:{type:String,required:!0,custom:!0},bounds:{type:[Array,Object],required:!0,custom:!0}},mt=(t,o,e)=>{const{options:s,methods:a}=H(t,o,e),r=L(t,Te,s),i={...a,setOpacity(l){return o.value.setOpacity(l)},setUrl(l){return o.value.setUrl(l)},setBounds(l){return o.value.setBounds(l)},getBounds(){return o.value.getBounds()},getElement(){return o.value.getElement()},bringToFront(){return o.value.bringToFront()},bringToBack(){return o.value.bringToBack()},setZIndex(l){return o.value.setZIndex(l)}};return{options:r,methods:i}},yt=n.defineComponent({name:"LImageOverlay",props:Te,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{options:i,methods:l}=mt(t,e,o);return n.onMounted(async()=>{const{imageOverlay:u}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(u(t.url,t.bounds,i));const c=C(o.attrs);e.value.on(c),h(l,e.value,t),r({...t,...l,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),vt=n.defineComponent({props:R,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{methods:i}=Y(t,e,o);return n.onMounted(async()=>{const{layerGroup:l}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(l(void 0,t.options));const u=C(o.attrs);e.value.on(u),h(i,e.value,t),r({...t,...i,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return B(this.ready,this.$slots)}});function Pe(t,o,e){var s,a,r;o===void 0&&(o=50),e===void 0&&(e={});var i=(s=e.isImmediate)!=null&&s,l=(a=e.callback)!=null&&a,u=e.maxWait,c=Date.now(),d=[];function m(){if(u!==void 0){var f=Date.now()-c;if(f+o>=u)return u-f}return o}var P=function(){var f=[].slice.call(arguments),M=this;return new Promise(function(j,S){var w=i&&r===void 0;if(r!==void 0&&clearTimeout(r),r=setTimeout(function(){if(r=void 0,c=Date.now(),!i){var k=t.apply(M,f);l&&l(k),d.forEach(function(_){return(0,_.resolve)(k)}),d=[]}},m()),w){var I=t.apply(M,f);return l&&l(I),j(I)}d.push({resolve:j,reject:S})})};return P.cancel=function(f){r!==void 0&&clearTimeout(r),d.forEach(function(M){return(0,M.reject)(f)}),d=[]},P}const se={...F,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},ft=n.defineComponent({emits:["ready","update:zoom","update:center","update:bounds"],props:se,setup(t,o){const e=n.ref(),s=n.reactive({ready:!1,layersToAdd:[],layersInControl:[]}),{options:a}=Z(t),r=L(t,se,a),i=q(T),l=q(K),u=q(E),c=q(ae);n.provide(g,t.useGlobalLeaflet);const d=n.computed(()=>{const j={};return t.noBlockingAnimations&&(j.animate=!1),j}),m=n.computed(()=>{const j=d.value;return t.padding&&(j.padding=t.padding),t.paddingTopLeft&&(j.paddingTopLeft=t.paddingTopLeft),t.paddingBottomRight&&(j.paddingBottomRight=t.paddingBottomRight),j}),P={moveend:Pe(j=>{s.leafletRef&&(o.emit("update:zoom",s.leafletRef.getZoom()),o.emit("update:center",s.leafletRef.getCenter()),o.emit("update:bounds",s.leafletRef.getBounds()))}),overlayadd(j){const S=s.layersInControl.find(w=>w.name===j.name);S&&S.updateVisibleProp(!0)},overlayremove(j){const S=s.layersInControl.find(w=>w.name===j.name);S&&S.updateVisibleProp(!1)}};n.onMounted(async()=>{t.useGlobalLeaflet&&(b.L=b.L||await import("leaflet"));const{map:j,CRS:S,Icon:w,latLngBounds:I,latLng:k,DomEvent:_,stamp:G}=t.useGlobalLeaflet?b.L:await import("leaflet/dist/leaflet-src.esm");try{r.beforeMapMount&&await r.beforeMapMount()}catch(p){console.error(`The following error occurred running the provided beforeMapMount hook ${p.message}`)}await qe(w);const N=typeof r.crs=="string"?S[r.crs]:r.crs;r.crs=N||S.EPSG3857;const z={addLayer(p){p.layerType!==void 0&&(s.layerControl===void 0?s.layersToAdd.push(p):s.layersInControl.find(D=>G(D.leafletObject)===G(p.leafletObject))||(s.layerControl.addLayer(p),s.layersInControl.push(p))),p.visible!==!1&&s.leafletRef.addLayer(p.leafletObject)},removeLayer(p){p.layerType!==void 0&&(s.layerControl===void 0?s.layersToAdd=s.layersToAdd.filter(O=>O.name!==p.name):(s.layerControl.removeLayer(p.leafletObject),s.layersInControl=s.layersInControl.filter(O=>G(O.leafletObject)!==G(p.leafletObject)))),s.leafletRef.removeLayer(p.leafletObject)},registerLayerControl(p){s.layerControl=p,s.layersToAdd.forEach(O=>{s.layerControl.addLayer(O)}),s.layersToAdd=[],u(p)},registerControl(p){s.leafletRef.addControl(p.leafletObject)},setZoom(p){const O=s.leafletRef.getZoom();p!==O&&s.leafletRef.setZoom(p,d.value)},setCrs(p){const O=s.leafletRef.getBounds();s.leafletRef.options.crs=p,s.leafletRef.fitBounds(O,{animate:!1,padding:[0,0]})},fitBounds(p){s.leafletRef.fitBounds(p,m.value)},setBounds(p){if(!p)return;const O=I(p);if(!O.isValid())return;!(s.lastSetBounds||s.leafletRef.getBounds()).equals(O,0)&&(s.lastSetBounds=O,s.leafletRef.fitBounds(O))},setCenter(p){if(p==null)return;const O=k(p),D=s.lastSetCenter||s.leafletRef.getCenter();(D.lat!==O.lat||D.lng!==O.lng)&&(s.lastSetCenter=O,s.leafletRef.panTo(O,d.value))}};J(i,z.addLayer),J(l,z.removeLayer),J(u,z.registerControl),J(c,z.registerLayerControl),s.leafletRef=n.markRaw(j(e.value,r)),h(z,s.leafletRef,t);const $e=C(o.attrs);He(s.leafletRef,P),_.on(s.leafletRef.getContainer(),$e),s.ready=!0,n.nextTick(()=>o.emit("ready",s.leafletRef))}),n.onBeforeUnmount(()=>{re(P),s.leafletRef&&(s.leafletRef.off(),s.leafletRef.remove())});const f=n.computed(()=>s.leafletRef),M=n.computed(()=>s.ready);return{root:e,ready:M,leafletObject:f}},render(){return n.h("div",{style:{width:"100%",height:"100%"},ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),bt=["Symbol(Comment)","Symbol(Text)"],Lt=["LTooltip","LPopup"],we={...$,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},ht=(t,o,e)=>{const{options:s,methods:a}=H(t,o,e),r=L(t,we,s),i={...a,setDraggable(l){o.value.dragging&&(l?o.value.dragging.enable():o.value.dragging.disable())},latLngSync(l){e.emit("update:latLng",l.latlng),e.emit("update:lat-lng",l.latlng)},setLatLng(l){if(l!=null&&o.value){const u=o.value.getLatLng();(!u||!u.equals(l))&&o.value.setLatLng(l)}}};return{options:r,methods:i}},gt=(t,o)=>{const e=o.slots.default&&o.slots.default();return e&&e.length&&e.some(Ot)};function Ot(t){return!(bt.includes(t.type.toString())||Lt.includes(t.type.name))}const jt=n.defineComponent({name:"LMarker",props:we,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T);n.provide(le,()=>{var c;return!!((c=e.value)!=null&&c.getElement())}),n.provide(ie,c=>{var m,P;const d=A((m=e.value)==null?void 0:m.getElement)&&((P=e.value)==null?void 0:P.getElement());d&&(d.innerHTML=c)}),n.provide(ue,c=>{var d;return((d=e.value)==null?void 0:d.setIcon)&&e.value.setIcon(c)});const{options:i,methods:l}=ht(t,e,o),u={moveHandler:Pe(l.latLngSync)};return n.onMounted(async()=>{const{marker:c,divIcon:d}=a?b.L:await import("leaflet/dist/leaflet-src.esm");gt(i,o)&&(i.icon=d({className:""})),e.value=n.markRaw(c(t.latLng,i));const m=C(o.attrs);e.value.on(m),e.value.on("move",u.moveHandler),h(l,e.value,t),r({...t,...l,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),n.onBeforeUnmount(()=>re(u)),{ready:s,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),ee={...Q,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},Be=(t,o,e)=>{const{options:s,methods:a}=ve(t,o,e),r=L(t,ee,s),i={...a,setSmoothFactor(l){o.value.setStyle({smoothFactor:l})},setNoClip(l){o.value.setStyle({noClip:l})},addLatLng(l){o.value.addLatLng(l)}};return{options:r,methods:i}},x={...ee},ke=(t,o,e)=>{const{options:s,methods:a}=Be(t,o,e),r=L(t,x,s),i={...a,toGeoJSON(l){return o.value.toGeoJSON(l)}};return{options:r,methods:i}},Ct=n.defineComponent({name:"LPolygon",props:x,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{options:i,methods:l}=ke(t,e,o);return n.onMounted(async()=>{const{polygon:u}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(u(t.latLngs,i));const c=C(o.attrs);e.value.on(c),h(l,e.value,t),r({...t,...l,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),St=n.defineComponent({name:"LPolyline",props:ee,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{options:i,methods:l}=Be(t,e,o);return n.onMounted(async()=>{const{polyline:u}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(u(t.latLngs,i));const c=C(o.attrs);e.value.on(c),h(l,e.value,t),r({...t,...l,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),Me={...F,content:{type:String,default:null}},Ie=(t,o)=>{const{options:e,methods:s}=Z(t),a={...s,setContent(r){o.value&&r!==null&&r!==void 0&&o.value.setContent(r)}};return{options:e,methods:a}},Ae=t=>t.default?n.h("div",{ref:"root"},t.default()):null,Tt={...Me,latLng:{type:[Object,Array],default:()=>[]}},Pt=(t,o)=>{const{options:e,methods:s}=Ie(t,o);return{options:e,methods:s}},wt=n.defineComponent({name:"LPopup",props:Tt,setup(t,o){const e=n.ref(),s=n.ref(null),a=n.inject(g),r=y(ce),i=y(pe),{options:l,methods:u}=Pt(t,e);return n.onMounted(async()=>{const{popup:c}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(c(l)),t.latLng!==void 0&&e.value.setLatLng(t.latLng),h(u,e.value,t);const d=C(o.attrs);e.value.on(d),e.value.setContent(t.content||s.value||""),r(e.value),n.nextTick(()=>o.emit("ready",e.value))}),n.onBeforeUnmount(()=>{i()}),{root:s,leafletObject:e}},render(){return Ae(this.$slots)}}),_e={...x,latLngs:{...x.latLngs,required:!1},bounds:{type:Object,custom:!0}},Bt=(t,o,e)=>{const{options:s,methods:a}=ke(t,o,e),r=L(t,_e,s),i={...a,setBounds(l){o.value.setBounds(l)},setLatLngs(l){o.value.setBounds(l)}};return{options:r,methods:i}},kt=n.defineComponent({name:"LRectangle",props:_e,setup(t,o){const e=n.ref(),s=n.ref(!1),a=n.inject(g),r=y(T),{options:i,methods:l}=Bt(t,e,o);return n.onMounted(async()=>{const{rectangle:u,latLngBounds:c}=a?b.L:await import("leaflet/dist/leaflet-src.esm"),d=t.bounds?c(t.bounds):c(t.latLngs||[]);e.value=n.markRaw(u(d,i));const m=C(o.attrs);e.value.on(m),h(l,e.value,t),r({...t,...l,leafletObject:e.value}),s.value=!0,n.nextTick(()=>o.emit("ready",e.value))}),{ready:s,leafletObject:e}},render(){return B(this.ready,this.$slots)}}),te={...V,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:t=>typeof t=="string"?!0:Array.isArray(t)?t.every(o=>typeof o=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},Ge=(t,o,e)=>{const{options:s,methods:a}=Se(t,o,e),r=L(t,te,s),i={...a};return{options:r,methods:i}},Mt=n.defineComponent({props:te,setup(t,o){const e=n.ref(),s=n.inject(g),a=y(T),{options:r,methods:i}=Ge(t,e,o);return n.onMounted(async()=>{const{tileLayer:l}=s?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(l(t.url,r));const u=C(o.attrs);e.value.on(u),h(i,e.value,t),a({...t,...i,leafletObject:e.value}),n.nextTick(()=>o.emit("ready",e.value))}),{leafletObject:e}},render(){return null}}),It={...Me},At=(t,o)=>{const{options:e,methods:s}=Ie(t,o),a=y(me);return n.onBeforeUnmount(()=>{a()}),{options:e,methods:s}},_t=n.defineComponent({name:"LTooltip",props:It,setup(t,o){const e=n.ref(),s=n.ref(null),a=n.inject(g),r=y(de),{options:i,methods:l}=At(t,e);return n.onMounted(async()=>{const{tooltip:u}=a?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(u(i)),h(l,e.value,t);const c=C(o.attrs);e.value.on(c),e.value.setContent(t.content||s.value||""),r(e.value),n.nextTick(()=>o.emit("ready",e.value))}),{root:s,leafletObject:e}},render(){return Ae(this.$slots)}}),Ne={...te,layers:{type:String,required:!0},styles:{type:String},format:{type:String},transparent:{type:Boolean,default:void 0},version:{type:String},crs:{type:Object},uppercase:{type:Boolean,default:void 0}},Gt=(t,o,e)=>{const{options:s,methods:a}=Ge(t,o,e);return{options:L(t,Ne,s),methods:{...a}}},Nt=n.defineComponent({props:Ne,setup(t,o){const e=n.ref(),s=n.inject(g),a=y(T),{options:r,methods:i}=Gt(t,e,o);return n.onMounted(async()=>{const{tileLayer:l}=s?b.L:await import("leaflet/dist/leaflet-src.esm");e.value=n.markRaw(l.wms(t.url,r));const u=C(o.attrs);e.value.on(u),h(i,e.value,t),a({...t,...i,leafletObject:e.value}),n.nextTick(()=>o.emit("ready",e.value))}),{leafletObject:e}},render(){return null}});exports.LCircle=Ke;exports.LCircleMarker=Re;exports.LControl=Xe;exports.LControlAttribution=Ve;exports.LControlLayers=tt;exports.LControlScale=nt;exports.LControlZoom=rt;exports.LFeatureGroup=lt;exports.LGeoJson=ut;exports.LGridLayer=dt;exports.LIcon=pt;exports.LImageOverlay=yt;exports.LLayerGroup=vt;exports.LMap=ft;exports.LMarker=jt;exports.LPolygon=Ct;exports.LPolyline=St;exports.LPopup=wt;exports.LRectangle=kt;exports.LTileLayer=Mt;exports.LTooltip=_t;exports.LWmsTileLayer=Nt;
